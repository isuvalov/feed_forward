function [res,delay_line_new]=filt_like_fpga(inn,delay_line)

 filt=[-81, 8, 47, 116, 221, 363, 543, 757, 998, 1257, 1519, 1771, 1996, 2180,2311, 2378, 2378, 2311, 2180, 1996, 1771, 1519, 1257, 998, 757, 543, 363, 221, 116, 47, 8, -81];
% filt_r=[0.00155608337001727,0.000336235971699486,0.000650669126374824,0.00109641396873983,0.00166505038358580,0.00231713059240179,0.00297600798392879,0.00352684410958959,0.00382276158870226,0.00369927548522461,0.00299686708921213,0.00159001624593181,-0.000580579142395940,-0.00347720358866729,-0.00694114074640662,-0.0106809032537606,-0.0142771495715311,-0.0172069274099444,-0.0188873148139421,-0.0187355575371624,-0.0162398672916839,-0.0110326378173575,-0.00295640696464291,0.00788722222540583,0.0211141417239352,0.0360654903065138,0.0518485038610136,0.0674079993116586,0.0816217151698532,0.0934091337788432,0.101841101009930,0.106236935975680,0.106236935975680,0.101841101009930,0.0934091337788432,0.0816217151698532,0.0674079993116586,0.0518485038610136,0.0360654903065138,0.0211141417239352,0.00788722222540583,-0.00295640696464291,-0.0110326378173575,-0.0162398672916839,-0.0187355575371624,-0.0188873148139421,-0.0172069274099444,-0.0142771495715311,-0.0106809032537606,-0.00694114074640662,-0.00347720358866729,-0.000580579142395940,0.00159001624593181,0.00299686708921213,0.00369927548522461,0.00382276158870226,0.00352684410958959,0.00297600798392879,0.00231713059240179,0.00166505038358580,0.00109641396873983,0.000650669126374824,0.000336235971699486,0.000155608337001727];
% filt=floor(0.5*[0,16,40,71,109,154,206,264,329,399,476,556,642,730,822,915,1010,1106,1200,1294,1385,1474,1559,1639,1714,1784,1846,1902,1950,1991,2023,2048,2048,2023,1991,1950,1902,1846,1784,1714,1639,1559,1474,1385,1294,1200,1106,1010,915,822,730,642,556,476,399,329,264,206,154,109,71,40,16,0]);

multsum=0;
for z=1:length(filt)
	mult=delay_line(z)*filt(z);
	mult_int=floor(mult/(2^5));
	multsum=multsum+mult_int;
% Суммируем в 26 битное число
% каждое произведение делим на 2^5
end

for z=2:length(filt)
	delay_line_new(z)=delay_line(z-1);
end
	delay_line_new(1)=inn;

 res=floor(multsum/(2^(6+6-2)));